sources:
  apache_logs:
    type: demo_logs
    format: apache_common
    interval: 1
    count: 100

sinks:
  clickhouse_sink:
    type: clickhouse
    inputs: [apache_logs]
    endpoint: "http://localhost:8123"
    database: "logs"
    table: "access_logs"
    skip_unknown_fields: true
    compression: gzip
    format: "JSONEachRow"
    request:
      retry_attempts: 5
      retry_initial_backoff_secs: 1
      timeout_secs: 30
    auth:
      user: "default"
      password: ""